<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyPacket - Secure Finance Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Passcode Lock Screen -->
        <div class="passcode-screen hidden" id="passcodeScreen">
            <div class="passcode-content">
                <div class="app-logo">
                    <h1 class="app-title">MyPacket</h1>
                    <p class="app-subtitle" id="passcodeSubtitle">Enter your passcode</p>
                </div>
                <div class="passcode-input">
                    <div class="passcode-dots" id="passcodeDots">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                    <input type="password" id="passcodeInput" class="passcode-hidden-input" maxlength="6" autocomplete="off">
                </div>
                <div class="passcode-keypad">
                    <button class="keypad-btn" data-digit="1">1</button>
                    <button class="keypad-btn" data-digit="2">2</button>
                    <button class="keypad-btn" data-digit="3">3</button>
                    <button class="keypad-btn" data-digit="4">4</button>
                    <button class="keypad-btn" data-digit="5">5</button>
                    <button class="keypad-btn" data-digit="6">6</button>
                    <button class="keypad-btn" data-digit="7">7</button>
                    <button class="keypad-btn" data-digit="8">8</button>
                    <button class="keypad-btn" data-digit="9">9</button>
                    <button class="keypad-btn keypad-btn--blank"></button>
                    <button class="keypad-btn" data-digit="0">0</button>
                    <button class="keypad-btn keypad-btn--delete" data-action="delete">‚å´</button>
                </div>
                <div class="passcode-actions">
                    <button class="btn btn--outline btn--sm" id="forgotPasscodeBtn">Forgot Passcode?</button>
                </div>
                <div class="passcode-error" id="passcodeError"></div>
            </div>
        </div>

        <!-- Main App Content -->
        <div class="main-app hidden" id="mainApp">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h1 class="app-title" id="appTitle">MyPacket</h1>
                    <div class="language-selector">
                        <select id="languageSelect" class="form-control form-control--sm">
                            <option value="en">English</option>
                            <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                            <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                        </select>
                    </div>
                </div>
                <div class="header-right">
                    <button class="btn btn--secondary btn--sm" id="lockAppBtn" title="Lock App">üîí</button>
                    <button class="btn btn--secondary btn--sm" id="settingsBtn">‚öôÔ∏è</button>
                </div>
            </header>

            <!-- Dashboard -->
            <section class="dashboard">
                <div class="packet-balance">
                    <div class="balance-label" id="packetAmountLabel">Packet Amount</div>
                    <div class="balance-amount" id="packetAmount">‚Çπ5,000</div>
                </div>
                
                <div class="today-summary">
                    <div class="summary-card">
                        <div class="summary-label" id="todayExpensesLabel">Today's Expenses</div>
                        <div class="summary-amount" id="todayExpenses">‚Çπ0</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label" id="monthlyExpensesLabel">Monthly Expenses</div>
                        <div class="summary-amount" id="monthlyExpenses">‚Çπ0</div>
                    </div>
                </div>
            </section>

            <!-- Entry Options -->
            <section class="entry-section">
                <div class="entry-methods">
                    <button class="entry-btn entry-btn--voice" id="voiceEntryBtn">
                        <div class="entry-icon">üé§</div>
                        <span class="entry-label" id="voiceEntryLabel">Voice Entry</span>
                        <span class="entry-hint" id="voiceHintLabel">Speak your transaction...</span>
                    </button>
                    <button class="entry-btn entry-btn--manual" id="manualEntryBtn">
                        <div class="entry-icon">‚úèÔ∏è</div>
                        <span class="entry-label" id="manualEntryLabel">Manual Entry</span>
                        <span class="entry-hint" id="manualHintLabel">Enter details manually</span>
                    </button>
                </div>
            </section>

            <!-- Recent Transactions -->
            <section class="transactions-section">
                <div class="section-header">
                    <h3 id="recentTransactionsLabel">Recent Transactions</h3>
                    <button class="btn btn--outline btn--sm" id="viewAllBtn">View All</button>
                </div>
                <div class="transactions-list" id="transactionsList">
                    <!-- Transactions will be populated by JavaScript -->
                </div>
            </section>
        </div>

        <!-- Voice Entry Modal -->
        <div class="modal hidden" id="voiceModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="voiceModalTitle">Voice Entry</h3>
                    <button class="close-btn" id="closeVoiceModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="voice-interface">
                        <div class="voice-animation" id="voiceAnimation">
                            <div class="wave"></div>
                            <div class="wave"></div>
                            <div class="wave"></div>
                        </div>
                        <div class="voice-status" id="voiceStatus">Press the microphone to start</div>
                        <button class="voice-btn voice-btn--large" id="voiceBtn">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
                            </svg>
                        </button>
                        <div class="voice-transcript" id="voiceTranscript"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Manual Entry Modal -->
        <div class="modal hidden" id="manualModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="manualModalTitle">Manual Entry</h3>
                    <button class="close-btn" id="closeManualModal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="manualTransactionForm">
                        <div class="form-step" id="step1">
                            <div class="form-group">
                                <label class="form-label" id="descriptionLabel">Description</label>
                                <input type="text" class="form-control" id="manualDescription" required>
                                <div class="suggestions" id="descriptionSuggestions"></div>
                            </div>
                        </div>
                        
                        <div class="form-step" id="step2">
                            <div class="form-group">
                                <label class="form-label" id="amountLabel">Amount (‚Çπ)</label>
                                <input type="number" class="form-control" id="manualAmount" step="0.01" min="0" required>
                            </div>
                        </div>
                        
                        <div class="form-step" id="step3">
                            <div class="form-group">
                                <label class="form-label" id="paymentMethodLabel">Payment Method</label>
                                <select class="form-control" id="manualPaymentMethod" required>
                                    <option value="">Select payment method</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-step" id="step4">
                            <div class="form-group">
                                <label class="form-label" id="categoryLabel">Category</label>
                                <select class="form-control" id="manualCategory" required>
                                    <option value="">Select category</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-step" id="step5">
                            <div class="date-time-inputs">
                                <div class="datetime-field">
                                    <label class="form-label" id="dateLabel">Date</label>
                                    <input type="date" class="form-control" id="manualDate" required>
                                </div>
                                <div class="datetime-field">
                                    <label class="form-label" id="timeLabel">Time</label>
                                    <input type="time" class="form-control" id="manualTime" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn--outline" id="prevStepBtn">Previous</button>
                            <button type="button" class="btn btn--primary" id="nextStepBtn">Next</button>
                            <button type="submit" class="btn btn--primary hidden" id="submitManualBtn">Save Transaction</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Edit Transaction Modal -->
        <div class="modal hidden" id="editModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="editModalTitle">Edit Transaction</h3>
                    <button class="close-btn" id="closeEditModal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="editTransactionForm">
                        <input type="hidden" id="editTransactionId">
                        
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <input type="text" class="form-control" id="editDescription" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Amount (‚Çπ)</label>
                            <input type="number" class="form-control" id="editAmount" step="0.01" min="0" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Payment Method</label>
                            <select class="form-control" id="editPaymentMethod" required></select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <select class="form-control" id="editCategory" required></select>
                        </div>
                        
                        <div class="form-group">
                            <div class="date-time-inputs">
                                <div class="datetime-field">
                                    <label class="form-label">Date</label>
                                    <input type="date" class="form-control" id="editDate" required>
                                </div>
                                <div class="datetime-field">
                                    <label class="form-label">Time</label>
                                    <input type="time" class="form-control" id="editTime" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn--primary" id="updateBtn">Update</button>
                            <button type="button" class="btn btn--outline" id="deleteTransactionBtn">Delete</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Transaction History Modal -->
        <div class="modal hidden" id="historyModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="historyModalTitle">Transaction History</h3>
                    <button class="close-btn" id="closeHistoryModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="filters">
                        <input type="text" class="form-control" id="searchInput" placeholder="Search transactions...">
                        <select class="form-control" id="filterPayment">
                            <option value="">All Payment Methods</option>
                        </select>
                        <select class="form-control" id="monthFilter">
                            <option value="">All Months</option>
                        </select>
                    </div>
                    <div class="all-transactions" id="allTransactions">
                        <!-- All transactions will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal hidden" id="settingsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="settingsModalTitle">Settings</h3>
                    <button class="close-btn" id="closeSettingsModal">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- Security Settings -->
                    <div class="settings-section">
                        <h4 id="securityLabel">Security</h4>
                        
                        <div class="setting-item">
                            <label class="setting-label" id="enablePasscodeLabel">Enable Passcode</label>
                            <input type="checkbox" class="setting-toggle" id="enablePasscodeToggle">
                        </div>
                        
                        <div class="setting-item passcode-dependent hidden">
                            <button type="button" class="btn btn--outline" id="changePasscodeBtn">Change Passcode</button>
                        </div>
                        
                        <div class="setting-item passcode-dependent hidden">
                            <label class="setting-label" id="autoLockLabel">Auto Lock</label>
                            <select class="form-control" id="autoLockSelect">
                                <option value="-1">Never</option>
                                <option value="0">Immediately</option>
                                <option value="60000">1 Minute</option>
                                <option value="300000">5 Minutes</option>
                                <option value="900000">15 Minutes</option>
                            </select>
                        </div>
                        
                        <div class="setting-item passcode-dependent hidden">
                            <label class="setting-label" id="transactionSecurityLabel">Require Passcode for Edits</label>
                            <input type="checkbox" class="setting-toggle" id="transactionSecurityToggle">
                        </div>
                    </div>
                    
                    <!-- Packet Amount Settings -->
                    <div class="settings-section">
                        <h4 id="packetSettingsLabel">Packet Amount</h4>
                        <div class="form-group">
                            <label class="form-label">Update Packet Amount (‚Çπ)</label>
                            <input type="number" class="form-control" id="newPacketAmount" step="0.01" min="0">
                            <button type="button" class="btn btn--primary btn--sm mt-8" id="updatePacketBtn">Update</button>
                        </div>
                    </div>
                    
                    <!-- Data Management -->
                    <div class="settings-section">
                        <h4 id="dataManagementLabel">Data Management</h4>
                        <div class="data-actions">
                            <button type="button" class="btn btn--outline" id="exportDataBtn">Export Data</button>
                            <input type="file" id="importDataInput" accept=".json" style="display: none;">
                            <button type="button" class="btn btn--outline" id="importDataBtn">Import Data</button>
                            <button type="button" class="btn btn--outline btn--danger" id="resetDataBtn">Reset All Data</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Passcode Setup Modal -->
        <div class="modal hidden" id="passcodeSetupModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="passcodeSetupTitle">Set Passcode</h3>
                </div>
                <div class="modal-body">
                    <div class="passcode-setup">
                        <p id="passcodeSetupInstructions">Choose a 4-6 digit passcode</p>
                        <div class="passcode-input">
                            <div class="passcode-dots" id="setupPasscodeDots">
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                            </div>
                            <input type="password" id="setupPasscodeInput" class="passcode-hidden-input" maxlength="6">
                        </div>
                        <div class="passcode-keypad">
                            <button class="keypad-btn setup-keypad" data-digit="1">1</button>
                            <button class="keypad-btn setup-keypad" data-digit="2">2</button>
                            <button class="keypad-btn setup-keypad" data-digit="3">3</button>
                            <button class="keypad-btn setup-keypad" data-digit="4">4</button>
                            <button class="keypad-btn setup-keypad" data-digit="5">5</button>
                            <button class="keypad-btn setup-keypad" data-digit="6">6</button>
                            <button class="keypad-btn setup-keypad" data-digit="7">7</button>
                            <button class="keypad-btn setup-keypad" data-digit="8">8</button>
                            <button class="keypad-btn setup-keypad" data-digit="9">9</button>
                            <button class="keypad-btn keypad-btn--blank"></button>
                            <button class="keypad-btn setup-keypad" data-digit="0">0</button>
                            <button class="keypad-btn keypad-btn--delete setup-delete">‚å´</button>
                        </div>
                        <div class="passcode-actions">
                            <button class="btn btn--outline" id="cancelPasscodeSetup">Cancel</button>
                            <button class="btn btn--primary" id="confirmPasscodeSetup" disabled>Set Passcode</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Confirmation Modal -->
        <div class="modal hidden" id="confirmModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="confirmModalTitle">Confirm Action</h3>
                </div>
                <div class="modal-body">
                    <p id="confirmModalMessage">Are you sure?</p>
                    <div class="form-actions">
                        <button type="button" class="btn btn--outline" id="confirmCancelBtn">Cancel</button>
                        <button type="button" class="btn btn--primary" id="confirmActionBtn">Confirm</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notification Toast -->
        <div class="toast hidden" id="toast">
            <div class="toast-content" id="toastContent"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>